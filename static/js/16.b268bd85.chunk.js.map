{"version":3,"sources":["views/dashboard/Dashboard.js"],"names":["cookies","Cookies","token","get","Dashboard","props","getData","a","getOus","getDivisions","getUsers","fetch","method","headers","response","json","data","setState","ous","fault","divisions","users","state","this","date","Date","toString","loggedIn","xs","sm","lg","text","header","length","color","iconPadding","footerSlot","className","col","md","xl","to","style","textDecoration","block","disabled","width","name","id","datasets","label","backgroundColor","labels","options","tooltips","enabled","precision","value","React","Component"],"mappings":"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","file":"static/js/16.b268bd85.chunk.js","sourcesContent":["import React from 'react'\nimport Cookies from 'universal-cookie';\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CProgress,\n  CRow,\n  CWidgetIcon,\n  CLink\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport {CChartBar} from \"@coreui/react-chartjs\";\n\nconst cookies = new Cookies();\nconst token = cookies.get('auth-token');\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ous: [],\n      divisions: [],\n      users: []\n    }\n  }\n\n  async componentDidMount() {\n    await this.getData();\n  }\n\n  getData = async () => {\n    await this.getOus();\n    await this.getDivisions();\n    await this.getUsers();\n  }\n\n  getOus = async () => {\n    try {\n      const response = await fetch('https://stepbot-cooltech-internal-api.herokuapp.com/ous/find/all', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'auth-token': token\n        }\n      })\n      const data = await response.json();\n      this.setState({ous: data});\n    } catch (err) {\n      this.setState({fault: true});\n    }\n  }\n\n  getDivisions = async () => {\n    try {\n      const response = await fetch('https://stepbot-cooltech-internal-api.herokuapp.com/divisions/find/all', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'auth-token': token\n        }\n      })\n      const data = await response.json();\n      this.setState({divisions: data});\n    } catch (err) {\n      this.setState({fault: true});\n    }\n  }\n\n  getUsers = async () => {\n    const response = await fetch(`https://stepbot-cooltech-internal-api.herokuapp.com/users/find/all`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'auth-token': token\n      }\n    })\n    const data = await response.json();\n    this.setState({users: data});\n  }\n\n  render() {\n    const {ous, divisions, users} = this.state;\n    let today = new Date();\n    let date = today.toString();\n    const loggedIn = cookies.get('auth-token');\n\n    return (\n      <>\n        <CRow>\n          <CCol xs=\"12\" sm=\"6\" lg=\"4\">\n            <CWidgetIcon\n              text=\"Organisational Units\"\n              header={ous.length}\n              color=\"primary\"\n              iconPadding={false}\n\n              footerSlot={\n                <CRow className=\"align-items-center\">\n                  <CCol col=\"6\" sm=\"4\" md=\"2\" xl className=\"ml-xl-1 mt-1 mb-3 mb-xl-1 col-xl-4\">\n                    <CLink to=\"/ous\" style={{textDecoration: \"none\"}}>\n                      {loggedIn ?\n                        <CButton block color=\"info\">View</CButton> :\n                        <CButton block color=\"secondary\" disabled>View</CButton>\n                      }\n                    </CLink>\n                  </CCol>\n                </CRow>\n              }\n            >\n              <CIcon width={24} name=\"cil-building\" className=\"mx-5\"/>\n            </CWidgetIcon>\n          </CCol>\n\n          <CCol xs=\"12\" sm=\"6\" lg=\"4\">\n            <CWidgetIcon\n              text=\"Divisions\"\n              header={divisions.length}\n              color=\"success\"\n              iconPadding={false}\n\n              footerSlot={\n                <CRow className=\"align-items-center\">\n                  <CCol col=\"6\" sm=\"4\" md=\"2\" xl className=\"ml-xl-1 mt-1 mb-3 mb-xl-1 col-xl-4\">\n                    <CLink to=\"/divisions\" style={{textDecoration: \"none\"}}>\n                      {loggedIn ?\n                        <CButton block color=\"info\">View</CButton> :\n                        <CButton block color=\"secondary\" disabled>View</CButton>\n                      }\n                    </CLink>\n                  </CCol>\n                </CRow>\n              }\n            >\n              <CIcon width={24} name=\"cil-briefcase\" className=\"mx-5\"/>\n            </CWidgetIcon>\n          </CCol>\n\n          <CCol xs=\"12\" sm=\"6\" lg=\"4\">\n            <CWidgetIcon\n              text=\"Users\"\n              header={users.length}\n              color=\"warning\"\n              iconPadding={false}\n\n              footerSlot={\n                <CRow className=\"align-items-center\">\n                  <CCol col=\"6\" sm=\"4\" md=\"2\" xl className=\"ml-xl-1 mt-1 mb-3 mb-xl-1 col-xl-4\">\n                    <CLink to=\"/users\" style={{textDecoration: \"none\"}}>\n                      {loggedIn ?\n                        <CButton block color=\"info\">View</CButton> :\n                        <CButton block color=\"secondary\" disabled>View</CButton>\n                      }\n                    </CLink>\n                  </CCol>\n                </CRow>\n              }\n            >\n              <CIcon width={24} name=\"cil-people\" className=\"mx-5\"/>\n            </CWidgetIcon>\n          </CCol>\n        </CRow>\n\n        <CCard>\n          <CCardHeader>\n            <h4 id=\"traffic\" className=\"card-title mb-0\">Recent OU activity</h4>\n            <div className=\"small text-muted\">{date}</div>\n          </CCardHeader>\n          <CCardBody>\n            <CChartBar\n              datasets={[\n                {\n                  label: 'News Management',\n                  backgroundColor: '#321fdb',\n                  data: [32]\n                },\n                {\n                  label: 'Software Reviews',\n                  backgroundColor: '#2eb85c',\n                  data: [72]\n                },\n                {\n                  label: 'Hardware Reviews',\n                  backgroundColor: '#f9b115',\n                  data: [44]\n                },\n                {\n                  label: 'Opinion Pieces',\n                  backgroundColor: '#e55353',\n                  data: [26]\n                },\n              ]}\n              labels=\"months\"\n              options={{\n                tooltips: {\n                  enabled: true\n                }\n              }}\n            />\n          </CCardBody>\n          <CCardFooter>\n            <CRow className=\"text-center\">\n              <CCol md sm=\"12\" className=\"mb-sm-2 mb-0\">\n                <div className=\"text-muted\">News Management</div>\n                <strong>16 Updates (18%)</strong>\n                <CProgress\n                  className=\"progress-xs mt-2\"\n                  precision={1}\n                  color=\"primary\"\n                  value={32}\n                />\n              </CCol>\n              <CCol md sm=\"12\" className=\"mb-sm-2 mb-0 d-md-down-none\">\n                <div className=\"text-muted\">Software Reviews</div>\n                <strong>36 Updates (41%)</strong>\n                <CProgress\n                  className=\"progress-xs mt-2\"\n                  precision={1}\n                  color=\"success\"\n                  value={72}\n                />\n              </CCol>\n              <CCol md sm=\"12\" className=\"mb-sm-2 mb-0\">\n                <div className=\"text-muted\">Hardware Reviews</div>\n                <strong>22 Updates (26%)</strong>\n                <CProgress\n                  className=\"progress-xs mt-2\"\n                  precision={1}\n                  color=\"warning\"\n                  value={44}\n                />\n              </CCol>\n              <CCol md sm=\"12\" className=\"mb-sm-2 mb-0\">\n                <div className=\"text-muted\">Opinion Pieces</div>\n                <strong>13 Updates (15%)</strong>\n                <CProgress\n                  className=\"progress-xs mt-2\"\n                  precision={1}\n                  color=\"danger\"\n                  value={26}\n                />\n              </CCol>\n            </CRow>\n          </CCardFooter>\n        </CCard>\n      </>\n    )\n  }\n}\n\nexport default Dashboard\n"],"sourceRoot":""}